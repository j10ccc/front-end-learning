<!DOCTYPE html>  
<html>
    <head>
        <title>选择Demo</title>
        <meta charset="UTF-8" />
        <link rel="stylesheet" type="text/css" href="lesson3.css">
    </head>
	<script>
		function refresh() {
			for(var i = 0; i < 5; i++) {
				nums[i].style.backgroundColor = "lightyellow";
			}
			nums[foc_cur].style.backgroundColor = "bisque";
		}
		function keyup_submit(e) {
			var evt = window.event || e;
			if (evt.keyCode == 13) {
				total = Number(document.getElementById("input").value);
				last = total < 5 ? total : 5;
				num_cur = 1;
				foc_cur = 0;
				if (total > 0) {
					document.getElementById("inputarea").style.display="none";
					arrows = document.getElementsByClassName("arrow");
					nums = document.getElementsByClassName("num");
					if (total < 5) remove();
					nums[foc_cur].style.backgroundColor = "bisque";
				}
			}
		}
		function remove(){
			for (var i = total; i < 5; i++) {
				nums[i].style.display = "none";
			}
		}
		function change(a) {
			foc_cur = a;
			num_cur = nums[a].value;
			for(var i = 0; i < last; i++) {
				nums[i].style.backgroundColor = "lightyellow";
			}
			nums[foc_cur].style.backgroundColor = "bisque";
		}
		function turn(dir) {
			//right
			if (dir == 1 && num_cur < total){
				num_cur++, foc_cur++;
				if (foc_cur == last && nums[last - 1].value < total){
					for (var i = 0; i < last; i++) nums[i].value++;
					foc_cur--;
					refresh();
				}
				else if (foc_cur <= last - 1 && nums[last - 1].value <= total) refresh();
			}
			//left
			if (dir == 0 && num_cur > 1){
				num_cur--, foc_cur--;
				if (foc_cur == -1 && nums[0].value > 0){
					for (var i = 0; i < last; i++){
						nums[i].value--;
					}
					foc_cur++;
					refresh();
				}
				else if (foc_cur >= 0 && nums[0].value >= 1) refresh();
			}
		}

	</script>
    <body>
			<!-- inputarea -->
			<div id="inputarea">
				<input id="input" type="text" onkeydown="keyup_submit(event);">
			</div>
			<!-- selectarea -->
			<div class="selectarea">
				<div class="frame">
					<input class="arrow" type="button" value="<" onclick="turn(0)">
					<input class="num" type="button" value="1" onclick="change(0)">
					<input class="num" type="button" value="2" onclick="change(1)">
					<input class="num" type="button" value="3" onclick="change(2)">
					<input class="num" type="button" value="4" onclick="change(3)">
					<input class="num" type="button" value="5" onclick="change(4)">
					<input class="arrow" type="button" value=">" onclick="turn(1)">
				</div>
			</div>
			<div class="tips">
				<h2>小作业要求：</h1>
				<li>页面中至少出现一个输入框，一个页面选择栏，样式不限。</li>
				<li>被选中的选择栏以及鼠标划过的选择栏要有突出标记。</li>
				<li>在输入框中输入一个大于0的数字代表最大页面，回车后输入框消失，数据读入。</li>
				<li>页面选择栏在选择到第五个选择栏时，能根据当前值将当前页面固定于第三/四栏，或者保持不变，选择到第一个选择栏时同理。</li>
				<li>请于8月18日下午5：00前以姓名+学号的格式打包成压缩包发送至 2363017210@qq.com ，如有问题请直接联系。</li>
				<li>在下次直播，也就是8月18日下午7：30发放参考样例，以及8：00直播时对作业进行简单讲解。</li>
				<h2>未做到的点：</h2>
				<li>输入数据并选择一次后,鼠标滑过效果<code>(:hover)</code>失效</li>
				<li>选择第一个，第五个后，选择项光标无法移动到中间</li>
			</div>
    </body>

</html>